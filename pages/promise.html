---
layout: default
title: 公約一覧
---

<h2>公約一覧</h2>

{%- assign raw = site.data.promises -%}
{%- if raw and raw.size > 0 and raw.first -%}
  {%- assign items = raw -%}
{%- elsif raw.promises -%}
  {%- assign items = raw.promises -%}
{%- else -%}
  {%- assign items = empty -%}
{%- endif -%}

{%- assign shown = items | where_exp: "i", "i.published != false" -%}

{%- if shown and shown.size > 0 -%}
  {%- for item in shown -%}
    <div class="card">
      <h3 style="margin:0 0 6px 0;">{{ item.title }}</h3>
      {%- if item.status -%}
        <p style="margin:0 0 6px 0; color:#555;">進捗：{{ item.status }}</p>
      {%- endif -%}
      {%- if item.detail -%}
        <p style="margin:6px 0 10px 0;">{{ item.detail }}</p>
      {%- endif -%}
      <p style="margin:0; color:#666;">更新日：{{ item.last_update | default: "未設定" }}</p>
      {%- if item.pdf -%}
        <p style="margin:10px 0 0 0;">
          <a href="#" data-pdf="{{ item.pdf | relative_url }}">📄 PDFを開く</a>
        </p>
      {%- endif -%}
    </div>
  {%- endfor -%}
{%- else -%}
  <div class="card"><p style="margin:0;">現在、公開設定の公約はありません。</p></div>
{%- endif -%}
