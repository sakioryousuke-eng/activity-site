---
layout: default
title: 一般質問 詳細
permalink: /pages/matrix-detail.html
---

<h2>一般質問 詳細</h2>
<div id="detail" style="padding:1rem;border:1px solid #eee;border-radius:12px;background:#fff;"></div>

<script>
const ROWS = {{ site.data.matrix.rows | jsonify }};
function slugify(s){
  return String(s||'').toLowerCase()
    .replace(/\s+/g,'-')
    .replace(/[^\w\-ぁ-んァ-ン一-龥]/g,'')
    .replace(/-+/g,'-')
    .replace(/^-+|-+$/g,'');
}
function keyOf(r){
  return slugify(`${r.category}-${r.sakio.month}-${r.sakio.text}`);
}
(function(){
  const params=new URLSearchParams(location.search);
  const k=params.get('k')||'';
  const hit = ROWS.find(r => keyOf(r)===k);
  const el=document.getElementById('detail');
  if(!hit){ el.innerHTML='<p class="muted">該当データなし</p>'; return; }
  const s=hit.sakio||{}; const rel=hit.related||[];
  const pdf=s.pdf ? s.pdf : '';
  el.innerHTML = `
    <h3 style="margin-top:0">${s.text||''}</h3>
    <p><strong>カテゴリ：</strong>${hit.category||''}</p>
    <p><strong>会期：</strong>${s.session||''}</p>
    <p><strong>年月：</strong>${s.month||''}</p>
    <p style="margin-top:10px;"><strong>類似議員：</strong></p>
    ${rel.length ? '<ul style="margin:.4rem 0 .2rem 1.1rem;">' +
      rel.map(x=>`<li>${x.name}（${x.party}）：${x.month}／${x.topic}</li>`).join('') + '</ul>' : '<p class="muted">—</p>'}
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;">
      ${pdf ? `<a class="btn pdf-link" data-modal="pdf" href="${pdf}">📄 PDFを開く</a>` : '<span class="muted">PDFなし</span>'}
      ${pdf ? `<a class="btn ghost" href="${pdf}" target="_blank" rel="noopener">↗︎ 新しいタブ</a>` : ''}
      <a class="btn" href="{{ '/pages/matrix.html' | relative_url }}">← 一覧へ戻る</a>
    </div>
  `;
})();
</script>

