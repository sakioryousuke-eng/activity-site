---
layout: default
title: ä¸€èˆ¬è³ªå•ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
permalink: /pages/matrix.html
---

<h2 style="margin:0 0 10px;">ä¸€èˆ¬è³ªå•ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰</h2>
<p class="muted" style="margin:6px 0 16px;">ã‚«ãƒ†ã‚´ãƒªã¯ä¸¸ãƒãƒƒã‚¸ã§è¦–èªæ€§ã‚¢ãƒƒãƒ—ã€‚è¡Œã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«ã€å³ç«¯ã®ã€Œè©³ç´°ã€ã§è©³ç´°ãƒšãƒ¼ã‚¸ã«é·ç§»ã—ã¾ã™ã€‚</p>

<style>
/* ã‚„ã‚ã‚‰ã‹ãƒ•ã‚©ãƒ³ãƒˆ */
body, h1, h2, h3, h4, p, li, button, input, a, td, th {
  font-family: "Noto Sans JP","Hiragino Sans","ãƒ’ãƒ©ã‚®ãƒè§’ã‚´","Yu Gothic UI","æ¸¸ã‚´ã‚·ãƒƒã‚¯ä½“","Meiryo",system-ui,sans-serif;
  letter-spacing:.02em;
}
.matrix-wrap{overflow:auto;border:1px solid #eee;border-radius:12px;background:#fff}
table.matrix{width:100%;border-collapse:collapse;font-size:.95rem}
.matrix th,.matrix td{padding:.5rem .6rem;border-bottom:1px solid #f1f5f9;vertical-align:top}
.matrix thead th{position:sticky;top:0;background:#fafafa;z-index:1;font-weight:700}
.matrix tr:hover{background:#fcfcff}
.muted{color:#64748b}

/* ã‚«ãƒ†ã‚´ãƒªã‚¢ã‚¤ã‚³ãƒ³ï¼ˆä¸¸ãƒãƒƒã‚¸ãƒ»è¦–èªæ€§é‡è¦–ï¼‰ */
.cat-badge{display:inline-flex;align-items:center;gap:.45rem}
.i16{width:1.25rem;height:1.25rem;border-radius:50%;display:inline-grid;place-items:center;font-size:.78rem;color:#fff;font-weight:700}
.i-edu{background:#3b82f6}
.i-wel{background:#ef476f}
.i-tour{background:#22c55e}
.i-oth{background:#94a3b8}

/* ãƒœã‚¿ãƒ³ */
.btn{display:inline-flex;align-items:center;gap:.4em;padding:.28rem .55rem;border:1px solid #d6d6dc;border-radius:8px;background:#fff;text-decoration:none;font-size:.86rem}
.btn:hover{background:#f5f7ff}
.btn.ghost{border-color:#cfd8ea}
a.rowlink{color:inherit;text-decoration:none;display:block}

/* SPæœ€é©åŒ– */
@media(max-width:720px){
  .matrix th,.matrix td{padding:.42rem .5rem}
  .matrix th:nth-child(1), .matrix td:nth-child(1){white-space:nowrap}
  .matrix th:nth-child(3), .matrix td:nth-child(3){white-space:nowrap}
  .hide-sp{display:none}
}
</style>

<div class="matrix-wrap">
  <table class="matrix" id="matrixTable">
    <thead>
      <tr>
        <th>å¹´æœˆ</th>
        <th>è³ªå•è¦æ—¨ï¼ä¼šæœŸ</th>
        <th>ã‚«ãƒ†ã‚´ãƒª</th>
        <th class="hide-sp" style="width:6.5rem;">è³‡æ–™</th>
        <th style="width:6.5rem;">è©³ç´°</th>
      </tr>
    </thead>
    <tbody>
      {% assign rows = site.data.matrix.rows | default: empty %}
      {% for r in rows %}
        {% assign s = r.sakio %}
        {% assign cat = r.category | default: 'ãã®ä»–' %}
        {% assign key = cat | append: '-' | append: s.month | append: '-' | append: s.text | slugify %}
        {% assign c = cat | replace:'ã€€','' | replace:' ','' | downcase %}
        {% capture catkey %}{% if c contains 'æ•™' %}edu{% elsif c contains 'ç¦' %}wel{% elsif c contains 'è¦³' %}tour{% else %}oth{% endif %}{% endcapture %}
        <tr class="row" data-key="{{ key }}"
            data-title="{{ s.text | escape }}"
            data-session="{{ s.session | escape }}"
            data-month="{{ s.month | escape }}"
            data-category="{{ cat }}"
            data-pdf="{{ s.pdf | relative_url }}"
            data-related='{{ r.related | jsonify }}'>
          <td><a class="rowlink" href="{{ '/pages/matrix-detail.html' | relative_url }}?k={{ key }}"><strong>{{ s.month }}</strong></a></td>
          <td>
            <a class="rowlink" href="{{ '/pages/matrix-detail.html' | relative_url }}?k={{ key }}">
              <div style="font-weight:700;line-height:1.3">{{ s.text }}</div>
              <div class="muted">{{ s.session }}</div>
            </a>
          </td>
          <td>
            <span class="cat-badge">
              <span class="i16 i-{{ catkey | strip }}">{{ 'æ•™' if catkey == 'edu' else 'ç¦' if catkey == 'wel' else 'è¦³' if catkey == 'tour' else 'ä»–' }}</span>
              <span>{{ cat }}</span>
            </span>
          </td>
          <td class="hide-sp">
            {% if s.pdf %}
              <a class="btn pdf-link" href="{{ s.pdf | relative_url }}" data-modal="pdf" data-title="{{ s.text }}">PDF</a>
            {% else %}
              <span class="muted">â€”</span>
            {% endif %}
          </td>
          <td>
            <a class="btn ghost" href="{{ '/pages/matrix-detail.html' | relative_url }}?k={{ key }}">è©³ç´°</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆè¡Œã‚¿ãƒƒãƒ—ã§ã‚‚é–‹ã‘ã‚‹ï¼‰ -->
<dialog id="detailModal" aria-label="è³ªå•ã®è©³ç´°">
  <div style="display:flex;justify-content:space-between;align-items:center;padding:.7rem .9rem;border-bottom:1px solid #eee">
    <strong id="detailTitle"></strong>
    <button id="closeDetail" aria-label="é–‰ã˜ã‚‹" class="btn">Ã—</button>
  </div>
  <div style="padding:.8rem .9rem .9rem;font-size:.95rem;line-height:1.6">
    <p class="meta"><strong>ä¼šæœŸ:</strong> <span id="detailSession"></span></p>
    <p class="meta"><strong>å¹´æœˆ:</strong> <span id="detailMonth"></span>ã€€<strong>åˆ†é‡:</strong> <span id="detailCat"></span></p>
    <div id="detailRelated"></div>
    <div id="detailPDF" style="margin-top:.6rem;"></div>
  </div>
</dialog>

{% raw %}
<script>
document.addEventListener('DOMContentLoaded', () => {
  const dlg = document.getElementById('detailModal');
  const closeBtn = document.getElementById('closeDetail');

  function openDetail(row){
    document.getElementById('detailTitle').textContent   = row.dataset.title || '';
    document.getElementById('detailSession').textContent = row.dataset.session || '';
    document.getElementById('detailMonth').textContent   = row.dataset.month || '';
    document.getElementById('detailCat').textContent     = row.dataset.category || '';
    const rel = JSON.parse(row.dataset.related || '[]');
    document.getElementById('detailRelated').innerHTML = rel.length
      ? '<strong>é¡ä¼¼è­°å“¡</strong><ul style="margin:.4rem 0 .2rem 1.1rem;">' +
        rel.map(x=>`<li>${x.name}ï¼ˆ${x.party}ï¼‰ï¼š${x.month}ï¼${x.topic}</li>`).join('') +
        '</ul>' : '';
    const pdf = row.dataset.pdf || '';
    document.getElementById('detailPDF').innerHTML = pdf
      ? `<a href="${pdf}" data-modal="pdf" data-title="${row.dataset.title}" class="btn">ğŸ“„ PDFã‚’é–‹ã</a>
         &nbsp;<a href="${pdf}" target="_blank" rel="noopener" class="btn ghost">â†—ï¸ æ–°ã—ã„ã‚¿ãƒ–</a>`
      : '<span class="muted">PDFãªã—</span>';
    dlg.showModal();
  }

  // è¡Œã®ç©ºç™½ã‚¯ãƒªãƒƒã‚¯ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»PDFã‚„ãƒªãƒ³ã‚¯ï¼è©³ç´°ãƒœã‚¿ãƒ³ã¯é€šå¸¸é·ç§»
  document.querySelector('#matrixTable tbody').addEventListener('click', (e)=>{
    const row = e.target.closest('tr.row');
    if(!row) return;
    const isAction = e.target.closest('a,button,[data-modal]');
    if(isAction) return; // æ—¢å®šã®ãƒªãƒ³ã‚¯å‹•ä½œã‚’å„ªå…ˆ
    openDetail(row);
  });

  closeBtn?.addEventListener('click',()=>dlg.close());
});
</script>
{% endraw %}
