---
layout: default
title: ä¸€èˆ¬è³ªå•ãƒãƒˆãƒªã‚¯ã‚¹
---

<h1>ğŸ’¬ ä¸€èˆ¬è³ªå•ãƒãƒˆãƒªã‚¯ã‚¹</h1>
<p>è¡Œã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨è©³ç´°ã‚«ãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚PDFãƒªãƒ³ã‚¯ã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ãã®å ´è¡¨ç¤ºï¼ˆã‚¹ãƒãƒ›ã§ã‚‚è¦‹åˆ‡ã‚Œã¾ã›ã‚“ï¼‰ã€‚</p>

<div class="toolbar">
  <div class="filters">
    <button class="fbtn active" data-filter="all">ã™ã¹ã¦</button>
    <button class="fbtn" data-filter="æ•™è‚²">ğŸ“˜ æ•™è‚²</button>
    <button class="fbtn" data-filter="ç¦ç¥‰">ğŸ’— ç¦ç¥‰</button>
    <button class="fbtn" data-filter="è¦³å…‰">ğŸ è¦³å…‰</button>
    <button class="fbtn" data-filter="ãã®ä»–">ğŸ§© ãã®ä»–</button>
  </div>
  <input id="kw" type="search" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆå¹´æœˆãƒ»è¦æ—¨ãƒ»ä¼šæœŸï¼‰" aria-label="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢">
</div>

<div class="matrix-wrap">
  <table class="matrix" id="matrixTable">
    <thead>
      <tr>
        <th style="width:6.6rem;">å¹´æœˆ</th>
        <th>è³ªå•è¦æ—¨ï¼ä¼šæœŸ</th>
        <th style="width:7.2rem;">åˆ†é‡</th>
        <th style="width:5.6rem;">è³‡æ–™</th>
      </tr>
    </thead>
    <tbody>
      {%- assign data = site.data.matrix -%}
      {%- assign rows = "" | split: "" -%}
      {%- for pair in data -%}
        {%- assign cat = pair[0] -%}
        {%- for item in pair[1] -%}
          {%- assign r = item.sakio -%}
          {%- assign r = r | merge: {"__cat__": cat, "related": item.related} -%}
          {%- assign rows = rows | push: r -%}
        {%- endfor -%}
      {%- endfor -%}
      {%- assign sorted = rows | sort: "month" | reverse -%}

      {%- for r in sorted -%}
      <tr class="row"
          data-title="{{ r.text | escape }}"
          data-session="{{ r.session | escape }}"
          data-month="{{ r.month | escape }}"
          data-category="{{ r.__cat__ | strip | escape }}"
          data-pdf="{{ r.pdf | relative_url }}"
          data-related='{{ r.related | jsonify }}'>
        <td><span class="ym">{{ r.month }}</span></td>
        <td>
          <div class="q-title" title="{{ r.text | escape }}">{{ r.text }}</div>
          <div class="q-session">{{ r.session }}</div>
        </td>
        <td>
          <button type="button" class="chip cat" data-cat="{{ r.__cat__ | strip }}">
            <span class="ico"></span><span class="catlabel">{{ r.__cat__ | strip }}</span>
          </button>
        </td>
        <td>
          {%- if r.pdf -%}
            <a href="{{ r.pdf | relative_url }}" class="open-pdf" data-title="{{ r.text | escape }}">PDF</a>
          {%- else -%}
            <span class="muted">â€”</span>
          {%- endif -%}
        </td>
      </tr>
      {%- endfor -%}
    </tbody>
  </table>
</div>

<!-- è©³ç´°ã‚«ãƒ¼ãƒ‰ -->
<dialog id="detailModal" aria-label="è³ªå•ã®è©³ç´°">
  <div class="modal-head">
    <strong id="detailTitle"></strong>
    <button id="closeDetail" aria-label="é–‰ã˜ã‚‹">Ã—</button>
  </div>
  <div class="modal-body">
    <p class="meta"><strong>ä¼šæœŸ:</strong> <span id="detailSession"></span></p>
    <p class="meta"><strong>å¹´æœˆ:</strong> <span id="detailMonth"></span>ã€€<strong>åˆ†é‡:</strong> <span id="detailCat"></span></p>
    <div id="detailRelated"></div>
    <div id="detailPDF" style="margin-top:.6rem;"></div>
  </div>
</dialog>

<!-- PDFãƒ¢ãƒ¼ãƒ€ãƒ« -->
<dialog id="pdfModal" aria-label="PDFã‚’è¡¨ç¤º">
  <div class="modal-head">
    <strong id="pdfTitle">PDF</strong>
    <button id="closePdf" aria-label="é–‰ã˜ã‚‹">Ã—</button>
  </div>
  <div class="pdf-body">
    <iframe id="pdfFrame" title="PDFè¡¨ç¤º" loading="lazy"></iframe>
  </div>
</dialog>

<style>
/* ========== ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ ========== */
.toolbar{display:flex;justify-content:space-between;align-items:center;gap:.6rem;margin:.7rem 0 1rem;flex-wrap:wrap}
.filters{display:flex;gap:.4rem;flex-wrap:wrap}
.fbtn{border:1px solid #e5e7eb;background:#fff;padding:.35rem .7rem;border-radius:999px;cursor:pointer;font-size:.9rem}
.fbtn.active{background:#eef5ff;border-color:#cfe2ff}
#kw{padding:.42rem .6rem;border:1px solid #e5e7eb;border-radius:9px;min-width:14rem;max-width:60vw;font-size:.92rem}

/* ========== ãƒ†ãƒ¼ãƒ–ãƒ«ï¼šé«˜å¯†åº¦åŒ– ========== */
.matrix-wrap{overflow:auto;border:1px solid #eee;border-radius:12px}
table.matrix{width:100%;border-collapse:collapse;font-size:.93rem}
.matrix th,.matrix td{padding:.36rem .5rem;border-bottom:1px solid #f1f5f9;vertical-align:top}
.matrix thead th{position:sticky;top:0;background:#fafafa;z-index:1;font-weight:700}
.ym{font-size:.86rem;color:#475569;white-space:nowrap}
.q-title{font-weight:700;line-height:1.3;margin:.05rem 0 .1rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.q-session{font-size:.82rem;color:#64748b}

/* åˆ†é‡ãƒãƒƒãƒ—ï¼ˆå°ã•ã‚ï¼‰ */
.chip.cat{display:inline-flex;align-items:center;gap:.28rem;font-size:.82rem;font-weight:600;background:#eef5ff;color:#1d4ed8;border:1px solid #cfe2ff;border-radius:999px;padding:.16rem .46rem;cursor:pointer}
.chip.cat .ico{width:1em;display:inline-block;text-align:center;}

/* ãƒªãƒ³ã‚¯/ã‚µãƒ– */
.muted{color:#9ca3af}

/* ã‚¹ãƒãƒ›ï¼šã•ã‚‰ã«åœ§ç¸® & ä¼šæœŸã¯è¡¨ã§ã¯éè¡¨ç¤ºï¼ˆè©³ç´°ã§è¦‹ã‚‹ï¼‰ */
@media(max-width:720px){
  .matrix th,.matrix td{padding:.28rem .42rem}
  .q-title{font-size:.94rem}
  .q-session{display:none} /* â† è¡¨ã§ã¯éš ã™ï¼ˆè©³ç´°ã‚«ãƒ¼ãƒ‰ã§è¡¨ç¤ºï¼‰ */
  .chip.cat{font-size:.8rem;padding:.14rem .42rem}
  /* åˆ—å¹…æœ€é©åŒ– */
  .matrix th:nth-child(1), .matrix td:nth-child(1){width:5.9rem}
  .matrix th:nth-child(3), .matrix td:nth-child(3){width:6.3rem}
  .matrix th:nth-child(4), .matrix td:nth-child(4){width:4.9rem}
}

/* ========== ãƒ¢ãƒ¼ãƒ€ãƒ«å…±é€š ========== */
dialog{border:none;border-radius:12px;max-width:min(720px,96vw);width:96vw;padding:0}
dialog::backdrop{background:rgba(0,0,0,.35)}
.modal-head{display:flex;justify-content:space-between;align-items:center;padding:.7rem .9rem;border-bottom:1px solid #eee}
.modal-head strong{font-size:1rem}
.modal-head button{border:none;background:#fff;font-size:1.1rem;line-height:1;border-radius:8px;padding:.3rem .5rem;cursor:pointer}
.modal-body{padding:.8rem .9rem .9rem;font-size:.95rem;line-height:1.6}
.modal-body .meta{margin:.2rem 0}

/* PDFãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆå…¨ç”»é¢è¿‘ãï¼‰ */
#pdfModal{max-width:100vw;width:100vw;height:96vh}
#pdfModal .pdf-body{height:calc(96vh - 48px); /* ãƒ˜ãƒƒãƒ€ãƒ¼å·®åˆ† */ }
#pdfFrame{width:100%;height:100%;border:0}
</style>

<script>
/* =========================
   ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
   ========================= */
const ICONS = { 'æ•™è‚²':'ğŸ“˜', 'ç¦ç¥‰':'ğŸ’—', 'è¦³å…‰':'ğŸ', 'ãã®ä»–':'ğŸ§©' };
const norm = s => (s || '').toString().trim();

/* åˆ†é‡ã‚¢ã‚¤ã‚³ãƒ³ä»˜ä¸ */
document.querySelectorAll('.chip.cat').forEach(el=>{
  const cat = norm(el.dataset.cat);
  const ico = el.querySelector('.ico');
  if (ico) ico.textContent = ICONS[cat] || 'ğŸ§©';
});

/* ====== ãƒ•ã‚£ãƒ«ã‚¿ & æ¤œç´¢ï¼ˆå …ç‰¢åŒ–ï¼‰ ====== */
const kwEl = document.getElementById('kw');
const filterBtns = document.querySelectorAll('.fbtn');

function applyFilter(){
  const active = document.querySelector('.fbtn.active');
  const f = active ? norm(active.dataset.filter) : 'all';
  const kw = norm(kwEl.value).toLowerCase();

  document.querySelectorAll('tbody tr.row').forEach(r=>{
    const hay = (norm(r.dataset.title) + ' ' + norm(r.dataset.session) + ' ' + norm(r.dataset.month) + ' ' + norm(r.dataset.category)).toLowerCase();
    const okC = (f === 'all' || norm(r.dataset.category) === f);
    const okK = (!kw || hay.includes(kw));
    r.style.display = (okC && okK) ? '' : 'none';
  });
}
filterBtns.forEach(b=>{
  b.addEventListener('click',()=>{
    filterBtns.forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    applyFilter();
  });
});
kwEl.addEventListener('input', applyFilter);

/* åˆ†é‡ãƒãƒƒãƒ—ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ ãã®åˆ†é‡ã§ãƒ•ã‚£ãƒ«ã‚¿ */
document.addEventListener('click', e=>{
  const chip = e.target.closest('.chip.cat');
  if (!chip) return;
  const cat = norm(chip.dataset.cat);
  const btn = Array.from(filterBtns).find(x=>norm(x.dataset.filter)===cat);
  if (btn) btn.click();
});

/* ====== è©³ç´°ã‚«ãƒ¼ãƒ‰ ====== */
const dlgDetail = document.getElementById('detailModal');
document.addEventListener('click',(e)=>{
  const row = e.target.closest('tr.row');
  if(!row) return;

  // PDFãƒªãƒ³ã‚¯ã¯åˆ¥ãƒãƒ³ãƒ‰ãƒ©ã«ä»»ã›ã‚‹
  if (e.target.closest('a.open-pdf')) return;

  document.getElementById('detailTitle').textContent   = norm(row.dataset.title);
  document.getElementById('detailSession').textContent = norm(row.dataset.session);
  document.getElementById('detailMonth').textContent   = norm(row.dataset.month);
  document.getElementById('detailCat').textContent     = norm(row.dataset.category);

  // é¡ä¼¼è­°å“¡ä¸€è¦§
  const rel = JSON.parse(row.dataset.related || '[]');
  const relDiv = document.getElementById('detailRelated');
  relDiv.innerHTML = rel.length
    ? '<strong>é¡ä¼¼è­°å“¡</strong><ul style="margin:.4rem 0 .2rem 1.1rem;">' +
        rel.map(x=>`<li>${x.name}ï¼ˆ${x.party}ï¼‰ï¼š${x.month}ï¼${x.topic}</li>`).join('') +
      '</ul>'
    : '';

  // PDFãƒœã‚¿ãƒ³
  const pdf = norm(row.dataset.pdf);
  const btn = pdf
    ? `<a href="${pdf}" class="btn open-pdf" data-title="${row.dataset.title}">ğŸ“„ PDFã‚’é–‹ã</a>
       &nbsp; <a href="${pdf}" target="_blank" rel="noopener" class="btn ghost">â†—ï¸ æ–°ã—ã„ã‚¿ãƒ–</a>`
    : '<span class="muted">PDFãªã—</span>';
  document.getElementById('detailPDF').innerHTML = btn;

  dlgDetail.showModal();
});
document.getElementById('closeDetail').addEventListener('click',()=> dlgDetail.close());

/* ====== PDFãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆãã®å ´è¡¨ç¤ºï¼‰ ====== */
const pdfDlg = document.getElementById('pdfModal');
const pdfFrame = document.getElementById('pdfFrame');
const pdfTitle = document.getElementById('pdfTitle');
document.addEventListener('click',(e)=>{
  const a = e.target.closest('a.open-pdf');
  if (!a) return;
  e.preventDefault();
  const href = a.getAttribute('href');
  const ttl = a.dataset.title || a.textContent || 'PDF';
  pdfTitle.textContent = ttl;
  pdfFrame.src = href;
  pdfDlg.showModal();
});
document.getElementById('closePdf').addEventListener('click',()=>{
  pdfFrame.src = 'about:blank';
  pdfDlg.close();
});

/* ====== åˆæœŸé©ç”¨ ====== */
applyFilter();
</script>
