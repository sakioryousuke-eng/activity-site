---
layout: default
title: ä¸€èˆ¬è³ªå•ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ï¼‰
permalink: /pages/matrix.html
---

<h2 style="margin:0 0 10px;">ä¸€èˆ¬è³ªå•ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ï¼‰</h2>
<p class="muted" style="margin:6px 0 16px;">æ•™è‚²ï¼ç¦ç¥‰ï¼è¦³å…‰ï¼ãã®ä»–ã§åˆ†é¡ã€‚å„ã‚«ãƒ†ã‚´ãƒªå†…ã¯æ–°ã—ã„é †ã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>

<style>
.section{border:1px solid #eee;border-radius:12px;padding:14px 16px;margin:0 0 16px;background:#fff}
.section .head{display:flex;align-items:center;gap:10px;margin:0 0 10px;}
.section .ico{font-size:1.25rem;line-height:1;display:inline-flex;align-items:center;justify-content:center;width:1.6rem;height:1.6rem}
.section .title{font-size:1.05rem;margin:0}
.badge{display:inline-flex;align-items:center;gap:.35em;padding:.2em .55em;border-radius:999px;border:1px solid #cfe2ff;background:#eef5ff;color:#1d4ed8;font-size:.78rem}

.two{display:grid;grid-template-columns:1fr 1fr;gap:14px}
@media(max-width:720px){.two{grid-template-columns:1fr}}
.col h4{margin:.2rem 0 .4rem;font-size:.95rem}
.col ul{margin:.2rem 0 0 1rem;padding:0}
.col li{margin:.25rem 0}
.muted{color:#64748b}
.btn{display:inline-flex;align-items:center;gap:.5em;padding:.28rem .6rem;border:1px solid #ddd;border-radius:8px;background:#fff;text-decoration:none;font-size:.86rem}
.btn:hover{background:#fafafa}
.pdf-link{color:#0b67c2;border-color:#0b67c2}
</style>

{% assign rows = site.data.matrix.rows | default: empty %}

{% if rows and rows.size > 0 %}
  {% assign groups = rows | group_by: "category" %}

  {# è¡¨ç¤ºé †ï¼šæ•™è‚²â†’ç¦ç¥‰â†’è¦³å…‰â†’ãã®ä»–â†’ãã®ä»–ã®ã‚«ãƒ†ã‚´ãƒª #}
  {% assign prefer = "æ•™è‚²,ç¦ç¥‰,è¦³å…‰,ãã®ä»–" | split: "," %}
  {% assign ordered = "" | split: "" %}
  {% for key in prefer %}
    {% assign found = groups | where: "name", key | first %}
    {% if found %}{% assign ordered = ordered | push: found %}{% endif %}
  {% endfor %}
  {% for g in groups %}
    {% unless prefer contains g.name %}
      {% assign ordered = ordered | push: g %}
    {% endunless %}
  {% endfor %}

  {% for g in ordered %}
    {% assign cat = g.name | default: "ãã®ä»–" %}
    {%- capture icon -%}
      {%- case cat -%}
        {%- when 'æ•™è‚²' -%}ğŸ“˜
        {%- when 'ç¦ç¥‰' -%}ğŸ’—
        {%- when 'è¦³å…‰' -%}ğŸ
        {%- else -%}ğŸ§©
      {%- endcase -%}
    {%- endcapture -%}

    {# ã‚«ãƒ†ã‚´ãƒªå†…ã‚’ sakio.month é™é †ã«æ•´åˆ— #}
    {% assign with_key = "" | split: "" %}
    {% for it in g.items %}
      {% assign m = it.sakio.month | default: "0000-00" | replace: "-","" %}
      {% assign it2 = it | merge: {"_monthnum": m} %}
      {% assign with_key = with_key | push: it2 %}
    {% endfor %}
    {% assign sorted = with_key | sort: "_monthnum" | reverse %}

    <section class="section">
      <div class="head">
        <span class="ico" aria-hidden="true">{{ icon | strip }}</span>
        <h3 class="title">{{ cat }}</h3>
        <span class="badge">ã‚«ãƒ†ã‚´ãƒª</span>
      </div>

      <div class="two">
        <!-- å·¦ï¼šå´å°¾ -->
        <div class="col">
          <h4>å´å°¾</h4>
          <ul>
            {% for it in sorted %}
              {% assign s = it.sakio %}
              <li>
                <strong>{{ s.month }}</strong>ã€€{{ s.text }}
                {% if s.session %}<span class="muted">ï¼ˆ{{ s.session }}ï¼‰</span>{% endif %}
                {% if s.pdf %}
                  &nbsp;<a class="btn pdf-link" href="{{ s.pdf | relative_url }}" data-modal="pdf" data-title="{{ s.text }}">PDF</a>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        </div>

        <!-- å³ï¼šä»–è­°å“¡ -->
        <div class="col">
          <h4>ä»–è­°å“¡</h4>
          <ul>
            {% for it in sorted %}
              {% if it.related and it.related.size > 0 %}
                {% for r in it.related %}
                  <li>
                    {{ r.name }}ï¼ˆ{{ r.party }}ï¼‰
                    ï¼š<strong>{{ r.month }}</strong>ï¼{{ r.topic }}
                  </li>
                {% endfor %}
              {% endif %}
            {% endfor %}
          </ul>
        </div>
      </div>
    </section>
  {% endfor %}

{% else %}
  <p class="muted">ä¸€èˆ¬è³ªå•ãƒ‡ãƒ¼ã‚¿ãŒèª­ã¿è¾¼ã‚ã¦ã„ã¾ã›ã‚“ã€‚<code>_data/matrix.yml</code> ã® <code>rows:</code> ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</p>
{% endif %}

