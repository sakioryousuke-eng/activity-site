---
layout: default
title: ä¸€èˆ¬è³ªå•ãƒãƒˆãƒªã‚¯ã‚¹
---

<h1>ğŸ’¬ ä¸€èˆ¬è³ªå•ãƒãƒˆãƒªã‚¯ã‚¹</h1>
<p>è¡Œã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨è©³ç´°ã‚«ãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚PDFãƒªãƒ³ã‚¯ã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ãã®å ´è¡¨ç¤ºï¼ˆã‚¹ãƒãƒ›ã§å³ä¸‹ã¾ã§ç¢ºå®Ÿã«ãƒ•ã‚£ãƒƒãƒˆãƒ»ã‚¹ãƒ©ã‚¤ãƒ‰ç¦æ­¢ï¼‰ã€‚</p>

<div class="toolbar">
  <div class="filters">
    <button class="fbtn active" data-filter="ALL">ã™ã¹ã¦</button>
    <button class="fbtn" data-filter="EDU">ğŸ“˜ æ•™è‚²</button>
    <button class="fbtn" data-filter="WEL">ğŸ’— ç¦ç¥‰</button>
    <button class="fbtn" data-filter="TOUR">ğŸ è¦³å…‰</button>
    <button class="fbtn" data-filter="OTHER">ğŸ§© ãã®ä»–</button>
  </div>
  <input id="kw" type="search" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆå¹´æœˆãƒ»è¦æ—¨ãƒ»ä¼šæœŸï¼‰" aria-label="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢">
</div>

<div class="matrix-wrap">
  <table class="matrix" id="matrixTable" aria-describedby="matrixHelp">
    <thead>
      <tr>
        <th id="th-month" class="sortable" data-order="desc" title="ã‚¯ãƒªãƒƒã‚¯ã§æ˜‡é™åˆ‡æ›¿">å¹´æœˆ â–¼</th>
        <th>è³ªå•è¦æ—¨ï¼ä¼šæœŸ</th>
        <th id="th-cat" class="sortable" data-order="asc" title="ã‚¯ãƒªãƒƒã‚¯ã§æ˜‡é™åˆ‡æ›¿">åˆ†é‡ â–²</th>
        <th style="width:5.6rem;">è³‡æ–™</th>
      </tr>
    </thead>
    <tbody>
      {% for cat in site.data.matrix %}
        {% assign catname = cat[0] %}
        {% assign catlist = cat[1] %}
        {% assign c = catname | replace:'ã€€','' | replace:' ','' | downcase %}
        {% capture catkey %}
          {% if c == '' %}OTHER
          {% elsif c contains 'æ•™' or c contains 'education' or c contains 'school' %}EDU
          {% elsif c contains 'ç¦' or c contains 'welfare' or c contains 'child' %}WEL
          {% elsif c contains 'è¦³' or c contains 'tour' or c contains 'sight' %}TOUR
          {% else %}OTHER
          {% endif %}
        {% endcapture %}
        {% assign catkey = catkey | strip | upcase %}
        {% for entry in catlist %}
          {% assign s = entry.sakio %}
          {% if s %}
          <tr class="row"
              data-title="{{ s.text | escape }}"
              data-session="{{ s.session | escape }}"
              data-month="{{ s.month | escape }}"
              data-monthnum="{{ s.month | replace:'-','' | plus:0 }}"
              data-category="{{ catname }}"
              data-catkey="{{ catkey }}"
              data-pdf="{{ s.pdf | relative_url }}"
              data-related='{{ entry.related | jsonify }}'>
            <td><span class="ym">{{ s.month }}</span></td>
            <td>
              <div class="q-title" title="{{ s.text | escape }}">{{ s.text }}</div>
              <div class="q-session">{{ s.session }}</div>
            </td>
            <td>
              <button type="button" class="chip cat" data-catkey="{{ catkey }}" data-cat="{{ catname }}">
                <span class="ico"></span><span class="catlabel">{{ catname }}</span>
              </button>
            </td>
            <td>
              {% if s.pdf %}
                <a href="{{ s.pdf | relative_url }}" data-modal="pdf" data-title="{{ s.text }}">PDF</a>
              {% else %}
                <span class="muted">â€”</span>
              {% endif %}
            </td>
          </tr>
          {% endif %}
        {% endfor %}
      {% endfor %}
    </tbody>
  </table>
  <p id="matrixHelp" class="visually-hidden">ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã€Œå¹´æœˆã€ã€Œåˆ†é‡ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ˜‡é †ï¼é™é †ã‚’åˆ‡ã‚Šæ›¿ãˆã§ãã¾ã™ã€‚</p>
</div>

<!-- è©³ç´°ã‚«ãƒ¼ãƒ‰ -->
<dialog id="detailModal" aria-label="è³ªå•ã®è©³ç´°">
  <div class="modal-head">
    <strong id="detailTitle"></strong>
    <button id="closeDetail" aria-label="é–‰ã˜ã‚‹">Ã—</button>
  </div>
  <div class="modal-body">
    <p class="meta"><strong>ä¼šæœŸ:</strong> <span id="detailSession"></span></p>
    <p class="meta"><strong>å¹´æœˆ:</strong> <span id="detailMonth"></span>ã€€<strong>åˆ†é‡:</strong> <span id="detailCat"></span></p>
    <div id="detailRelated"></div>
    <div id="detailPDF" style="margin-top:.6rem;"></div>
  </div>
</dialog>

<!-- â€œã‚¹ãƒ©ã‚¤ãƒ‰ã—ãªã„â€ PDFãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆå…¬ç´„ã®è¦‹ãˆæ–¹ã‚’æ¨¡å€£ï¼zoom=50å›ºå®šï¼‰ -->
<dialog id="qnaPdfModal" aria-label="PDFã‚’è¡¨ç¤º">
  <div class="qpdf-head">
    <strong id="qpdfTitle">PDF</strong>
    <button id="qpdfClose" aria-label="é–‰ã˜ã‚‹">Ã—</button>
  </div>
  <div class="qpdf-body" id="qpdfBody">
    <iframe id="qpdfFrame" title="PDFè¡¨ç¤º" loading="lazy" referrerpolicy="no-referrer"></iframe>
  </div>
</dialog>

<style>
/* ä¸€è¦§UI */
.toolbar{display:flex;justify-content:space-between;align-items:center;gap:.6rem;margin:.7rem 0 1rem;flex-wrap:wrap}
.filters{display:flex;gap:.4rem;flex-wrap:wrap}
.fbtn{border:1px solid #e5e7eb;background:#fff;padding:.35rem .7rem;border-radius:999px;cursor:pointer;font-size:.9rem}
.fbtn.active{background:#eef5ff;border-color:#cfe2ff}
#kw{padding:.42rem .6rem;border:1px solid #e5e7eb;border-radius:9px;min-width:14rem;max-width:60vw;font-size:.92rem}

.matrix-wrap{overflow:auto;border:1px solid #eee;border-radius:12px}
table.matrix{width:100%;border-collapse:collapse;font-size:.93rem}
.matrix th,.matrix td{padding:.34rem .48rem;border-bottom:1px solid #f1f5f9;vertical-align:top}
.matrix thead th{position:sticky;top:0;background:#fafafa;z-index:1;font-weight:700}
.sortable{cursor:pointer;user-select:none}
.ym{font-size:.86rem;color:#475569;white-space:nowrap}
.q-title{font-weight:700;line-height:1.3;margin:.05rem 0 .1rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.q-session{font-size:.82rem;color:#64748b}
.muted{color:#9ca3af}
.chip.cat{display:inline-flex;align-items:center;gap:.28rem;font-size:.82rem;font-weight:600;background:#eef5ff;color:#1d4ed8;border:1px solid #cfe2ff;border-radius:999px;padding:.16rem .42rem;cursor:pointer}
.chip.cat .ico{width:1em;text-align:center}

@media(max-width:720px){
  .matrix th,.matrix td{padding:.26rem .38rem}
  .q-session{display:none}
  .chip.cat{font-size:.8rem;padding:.14rem .38rem}
  .matrix th:nth-child(1), .matrix td:nth-child(1){width:5.8rem}
  .matrix th:nth-child(3), .matrix td:nth-child(3){width:6.1rem}
  .matrix th:nth-child(4), .matrix td:nth-child(4){width:4.8rem}
}

/* è©³ç´°ã‚«ãƒ¼ãƒ‰ã ã‘ã‚¹ã‚³ãƒ¼ãƒ— */
#detailModal{border:none;border-radius:12px;max-width:min(720px,96vw);width:96vw;padding:0}
#detailModal::backdrop{background:rgba(0,0,0,.35)}
.modal-head{display:flex;justify-content:space-between;align-items:center;padding:.7rem .9rem;border-bottom:1px solid #eee}
.modal-body{padding:.8rem .9rem .9rem;font-size:.95rem;line-height:1.6}
.modal-head button{border:none;background:#fff;font-size:1.1rem;line-height:1;border-radius:8px;padding:.3rem .5rem;cursor:pointer}

/* ===== â€œã‚¹ãƒ©ã‚¤ãƒ‰ã—ãªã„â€ PDFãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆå³ä¸‹è¦‹åˆ‡ã‚Œé˜²æ­¢ãƒ»å…¬ç´„ã®ç†å±ˆï¼‰ ===== */
#qnaPdfModal{
  position:fixed; inset:0; margin:0; padding:0; border:none; background:#fff;
  width:100vw; max-width:100vw; height:100svh; border-radius:0; overflow:hidden;
  --qpdf-head-h: 64px; /* å®Ÿæ¸¬å€¤ã§ä¸Šæ›¸ãï¼ˆJSã§ï¼‰ */
}
@supports not (height:100svh){ #qnaPdfModal{ height:100dvh; } }
#qnaPdfModal::backdrop{ background:rgba(0,0,0,.35); }

/* ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šsafe-areaè€ƒæ…® */
.qpdf-head{
  display:flex; justify-content:space-between; align-items:center;
  background:#fff; border-bottom:1px solid #eee; min-height:48px;
  padding:.7rem .9rem;
  padding-top:calc(.7rem + env(safe-area-inset-top));
  padding-left:calc(.9rem + env(safe-area-inset-left));
  padding-right:calc(.9rem + env(safe-area-inset-right));
}
.qpdf-head button{ border:none; background:#fff; font-size:1.1rem; line-height:1; border-radius:8px; padding:.3rem .5rem; cursor:pointer; }

/* æœ¬ä½“ï¼šä¸Šä¸‹å·¦å³safe-areaï¼‹å‹•çš„ãƒ˜ãƒƒãƒ€ãƒ¼é«˜ã‚’åæ˜ ã€‚çµ¶å¯¾é…ç½®ã§å›ºå®šã€‚ */
.qpdf-body{
  position:absolute;
  top: var(--qpdf-head-h);
  left: env(safe-area-inset-left);
  right: env(safe-area-inset-right);
  bottom: env(safe-area-inset-bottom);
  background:#fff; overflow:hidden; margin:0;
  /* ã‚¹ãƒ©ã‚¤ãƒ‰ç¦æ­¢ */
  touch-action: none;
  overscroll-behavior: contain;
}

/* ãƒ“ãƒ¥ãƒ¼ã‚¢å…¨é¢è¡¨ç¤ºï¼‹æ“ä½œç¦æ­¢ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ãƒ»ãƒ”ãƒ³ãƒã§å‹•ã‹ãªã„ï¼‰ */
#qpdfFrame{
  display:block; width:100%; height:100%; border:0; background:#fff;
  height:-webkit-fill-available;
  pointer-events: none;
  user-select: none;
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ«ä¸­ã¯èƒŒé¢ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸å¯ */
html.__pdflock, body.__pdflock{ overflow:hidden; }

/* ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è£œåŠ© */
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
</style>

{% raw %}
<script>
document.addEventListener('DOMContentLoaded', () => {
  const ICONS = { EDU:'ğŸ“˜', WEL:'ğŸ’—', TOUR:'ğŸ', OTHER:'ğŸ§©' };
  const tbody = document.querySelector('#matrixTable tbody');
  const fbtns = Array.from(document.querySelectorAll('.fbtn'));
  const kwEl  = document.getElementById('kw');

  // ã‚«ãƒ†ã‚´ãƒªã‚¢ã‚¤ã‚³ãƒ³
  tbody.querySelectorAll('tr.row').forEach(tr=>{
    const catKey = (tr.dataset.catkey||'OTHER').toUpperCase();
    const ico = tr.querySelector('.chip.cat .ico');
    if (ico) ico.textContent = ICONS[catKey] || 'ğŸ§©';
  });

  // è¡Œãƒ‡ãƒ¼ã‚¿
  let rows = Array.from(tbody.querySelectorAll('tr.row')).map(tr => ({
    tr,
    catKey: (tr.dataset.catkey || 'OTHER').toUpperCase(),
    monthnum: Number(tr.dataset.monthnum || 0),
    hay: ((tr.dataset.title||'')+' '+(tr.dataset.session||'')+' '+(tr.dataset.month||'')+' '+(tr.dataset.category||'')).toLowerCase()
  }));

  // åˆæœŸï¼šå¹´æœˆé™é †
  sortBy('month','desc');

  function apply(){
    const active = fbtns.find(b=>b.classList.contains('active'));
    const key = active ? active.dataset.filter : 'ALL';
    const kw = (kwEl?.value || '').toLowerCase();
    rows.forEach(r=>{
      const okC = (key==='ALL' || r.catKey===key);
      const okK = (!kw || r.hay.includes(kw));
      r.tr.style.display = (okC && okK) ? '' : 'none';
    });
  }
  fbtns.forEach(b=>b.addEventListener('click',()=>{fbtns.forEach(x=>x.classList.remove('active'));b.classList.add('active');apply();}));
  kwEl?.addEventListener('input', apply);

  // ãƒ˜ãƒƒãƒ€ãƒ¼ã‚½ãƒ¼ãƒˆ
  document.getElementById('th-month')?.addEventListener('click', function(){
    const next = this.dataset.order==='desc' ? 'asc' : 'desc';
    this.dataset.order = next;
    this.textContent = next==='desc' ? 'å¹´æœˆ â–¼' : 'å¹´æœˆ â–²';
    sortBy('month', next);
  });
  document.getElementById('th-cat')?.addEventListener('click', function(){
    const next = this.dataset.order==='asc' ? 'desc' : 'asc';
    this.dataset.order = next;
    this.textContent = next==='asc' ? 'åˆ†é‡ â–²' : 'åˆ†é‡ â–¼';
    sortBy('cat', next);
  });

  function sortBy(key, order){
    if(key==='month'){
      rows.sort((a,b)=> order==='desc' ? (b.monthnum-a.monthnum) : (a.monthnum-b.monthnum));
    }else{
      rows.sort((a,b)=>{
        const s = a.catKey.localeCompare(b.catKey);
        if (s!==0) return order==='asc'?s:-s;
        return b.monthnum - a.monthnum;
      });
    }
    rows.forEach(r=>tbody.appendChild(r.tr));
    apply();
  }

  // è©³ç´°ã‚«ãƒ¼ãƒ‰
  const dlgDetail = document.getElementById('detailModal');
  document.getElementById('closeDetail')?.addEventListener('click',()=>dlgDetail.close());
  document.addEventListener('click', e => {
    const row = e.target.closest('tr.row');
    if (!row || e.target.closest('[data-modal="pdf"]')) return;
    document.getElementById('detailTitle').textContent   = row.dataset.title || '';
    document.getElementById('detailSession').textContent = row.dataset.session || '';
    document.getElementById('detailMonth').textContent   = row.dataset.month || '';
    document.getElementById('detailCat').textContent     = row.dataset.category || '';
    const rel = JSON.parse(row.dataset.related || '[]');
    const relDiv = document.getElementById('detailRelated');
    relDiv.innerHTML = rel.length
      ? '<strong>é¡ä¼¼è­°å“¡</strong><ul style="margin:.4rem 0 .2rem 1.1rem;">' +
        rel.map(x=>`<li>${x.name}ï¼ˆ${x.party}ï¼‰ï¼š${x.month}ï¼${x.topic}</li>`).join('') +
        '</ul>' : '';
    const pdf = row.dataset.pdf || '';
    document.getElementById('detailPDF').innerHTML = pdf
      ? `<a href="${pdf}" data-modal="pdf" data-title="${row.dataset.title}">ğŸ“„ PDFã‚’é–‹ã</a>
         &nbsp; <a href="${pdf}" target="_blank" rel="noopener" class="btn ghost">â†—ï¸ æ–°ã—ã„ã‚¿ãƒ–</a>`
      : '<span class="muted">PDFãªã—</span>';
    dlgDetail.showModal();
  });

  // === â€œã‚¹ãƒ©ã‚¤ãƒ‰ã—ãªã„â€ PDFãƒ¢ãƒ¼ãƒ€ãƒ« ===
  const dlg   = document.getElementById('qnaPdfModal');
  const head  = dlg.querySelector('.qpdf-head');
  const body  = document.getElementById('qpdfBody');
  const frame = document.getElementById('qpdfFrame');
  const title = document.getElementById('qpdfTitle');
  const btn   = document.getElementById('qpdfClose');

  function toZoom50(href){
    try{
      const url = new URL(href, location.href);
      const sp  = new URLSearchParams(url.hash.replace(/^#/,''));
      sp.set('zoom','50'); sp.set('toolbar','0'); sp.set('navpanes','0');
      url.hash = sp.toString();
      return url.toString();
    }catch(_){
      return href + (href.includes('#') ? '&' : '#') + 'zoom=50&toolbar=0&navpanes=0';
    }
  }

  function applyHeadHeight(){
    const h = Math.ceil(head.getBoundingClientRect().height);
    dlg.style.setProperty('--qpdf-head-h', h + 'px');
  }

  // ã‚¹ãƒ©ã‚¤ãƒ‰ç¦æ­¢ï¼ˆå†…éƒ¨æ“ä½œã‚‚å…¨é¢ãƒ–ãƒ­ãƒƒã‚¯ï¼‰
  function blockTouch(e){ e.preventDefault(); }
  ['touchstart','touchmove','touchend','gesturestart','gesturechange','gestureend','wheel'].forEach(ev=>{
    body.addEventListener(ev, blockTouch, { passive:false });
    dlg.addEventListener(ev, blockTouch, { passive:false });
  });

  document.addEventListener('click', function(e){
    const a = e.target.closest('a[data-modal="pdf"]');
    if(!a) return;
    e.preventDefault();
    title.textContent = a.dataset.title || 'PDF';
    frame.src = toZoom50(a.getAttribute('href'));
    applyHeadHeight();
    document.documentElement.classList.add('__pdflock');
    document.body.classList.add('__pdflock');
    dlg.showModal();
  }, {passive:false});

  function closePdf(){
    frame.src = 'about:blank';
    dlg.close();
    document.documentElement.classList.remove('__pdflock');
    document.body.classList.remove('__pdflock');
  }
  btn.addEventListener('click', closePdf);
  dlg.addEventListener('close', closePdf);
  window.addEventListener('resize', ()=>{ if(dlg.open) applyHeadHeight(); });
  window.addEventListener('orientationchange', ()=>{ if(dlg.open) applyHeadHeight(); });
});
</script>
{% endraw %}


