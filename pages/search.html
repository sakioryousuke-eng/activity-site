---
layout: default
title: 検索
permalink: /pages/search.html
---

<div class="container" style="max-width:960px;margin:2rem auto;">
  <h1>サイト内検索</h1>
  <input id="search-input" type="search" placeholder="キーワードを入力" 
         style="width:100%;padding:.75rem;border:1px solid #ccc;border-radius:8px;">
  <div id="search-meta" style="margin:.5rem 0;color:#666;"></div>
  <div id="search-results" style="display:grid;gap:10px;"></div>
</div>

<!-- 置き換え：検索結果の描画関数 -->
<script>
  // ...既存の検索ロジックはそのまま...

  function renderResults(list, query) {
    const $results = document.getElementById("search-results");
    $results.innerHTML = list.map(it => {
      const pdfBtn = it.pdf ? `<a class="btn btn-primary pdf-link" href="${it.pdf}">PDFを開く</a>` : "";
      return `
        <article class="card">
          <h3 style="margin:0 0 4px;">
            <a href="${it.url}" style="text-decoration:none;font-weight:600;">
              ${highlight(it.title || "", query)}
            </a>
          </h3>
          <small class="muted">${it.date || ""}</small>
          <p style="margin:6px 0 10px;">${highlight(it.excerpt || "", query)}</p>
          <div style="display:flex;gap:8px;flex-wrap:wrap;">
            ${pdfBtn}
            <a class="btn" href="${it.url}">詳細ページ</a>
          </div>
        </article>
      `;
    }).join("") || "<div class='muted'>該当なし</div>";
  }
</script>
